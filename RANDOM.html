<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Análisis de ML: Árboles de Decisión vs Random Forest</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #2ecc71;
            --warning: #f39c12;
            --iris: #9b59b6;
            --titanic: #3498db;
            --fraud: #e74c3c;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 40px 20px;
            text-align: center;
            border-radius: 0 0 20px 20px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-title {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary);
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .metric {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        
        .metric-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--secondary);
            margin: 10px 0;
        }
        
        .metric-label {
            color: var(--dark);
            font-size: 0.9rem;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            margin: 20px 0;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .comparison-table th, .comparison-table td {
            padding: 12px 15px;
            text-align: center;
            border: 1px solid #ddd;
        }
        
        .comparison-table th {
            background-color: var(--primary);
            color: white;
        }
        
        .comparison-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        
        .highlight {
            background-color: rgba(46, 204, 113, 0.2) !important;
            font-weight: bold;
        }
        
        .dataset-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .dataset-icon {
            width: 60px;
            height: 60px;
            background: var(--secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: white;
            font-size: 1.5rem;
        }
        
        .iris-icon {
            background: var(--iris);
        }
        
        .titanic-icon {
            background: var(--titanic);
        }
        
        .fraud-icon {
            background: var(--fraud);
        }
        
        .visualization-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 25px 0;
        }
        
        .visualization-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .visualization-title {
            font-size: 1.1rem;
            color: var(--primary);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .confusion-matrix {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 2px;
            margin: 0 auto;
            width: 200px;
        }
        
        .matrix-cell {
            padding: 10px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .matrix-header {
            background-color: var(--primary);
            color: white;
            font-weight: bold;
        }
        
        .matrix-tn {
            background-color: rgba(46, 204, 113, 0.3);
        }
        
        .matrix-fp {
            background-color: rgba(231, 76, 60, 0.3);
        }
        
        .matrix-fn {
            background-color: rgba(231, 76, 60, 0.3);
        }
        
        .matrix-tp {
            background-color: rgba(46, 204, 113, 0.3);
        }
        
        .conclusion {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-top: 20px;
        }
        
        .conclusion h2 {
            margin-bottom: 15px;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            color: var(--dark);
            font-size: 0.9rem;
        }
        
        @media (max-width: 968px) {
            .visualization-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background: #f1f1f1;
            border-radius: 5px 5px 0 0;
            margin-right: 5px;
        }
        
        .tab.active {
            background: var(--secondary);
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Análisis de ML: Árboles vs Random Forest</h1>
            <p class="subtitle">Comparativa de modelos con curvas ROC, matrices de confusión y métricas de evaluación</p>
        </div>
    </header>
    
    <div class="container">
        <section class="card">
            <h2 class="card-title">Resumen del Análisis</h2>
            <p>Este estudio compara el rendimiento de dos algoritmos de machine learning (Árbol de Decisión y Random Forest) en tres conjuntos de datos con características diferentes. Se evaluaron métricas de precisión, exhaustividad, F1-score, curvas ROC y matrices de confusión.</p>
            
            <div class="grid">
                <div class="metric">
                    <div class="metric-label">Conjuntos de Datos</div>
                    <div class="metric-value">3</div>
                    <div>Iris, Titanic, Fraude</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Algoritmos Evaluados</div>
                    <div class="metric-value">2</div>
                    <div>Árbol de Decisión y Random Forest</div>
                </div>
                <div class="metric">
                    <div class="metric-label">Mejor Precisión Promedio</div>
                    <div class="metric-value">94.7%</div>
                    <div>Random Forest</div>
                </div>
            </div>
        </section>
        
        <section class="card">
            <div class="dataset-header">
                <div class="dataset-icon iris-icon">🌺</div>
                <div>
                    <h2 class="card-title">Dataset Iris</h2>
                    <p>Clasificación de especies de flores Iris basado en características morfológicas</p>
                </div>
            </div>
            
            <div class="tabs">
                <div class="tab active" onclick="changeTab('iris', 'metrics')">Métricas</div>
                <div class="tab" onclick="changeTab('iris', 'roc')">Curvas ROC</div>
                <div class="tab" onclick="changeTab('iris', 'matrix')">Matrices de Confusión</div>
            </div>
            
            <div id="iris-metrics" class="tab-content active">
                <div class="chart-container">
                    <canvas id="irisChart"></canvas>
                </div>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Métrica</th>
                            <th>Árbol de Decisión</th>
                            <th>Random Forest</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Precisión (Accuracy)</td>
                            <td>0.9556</td>
                            <td class="highlight">0.9778</td>
                        </tr>
                        <tr>
                            <td>Precisión (Precision)</td>
                            <td>0.9587</td>
                            <td class="highlight">0.9778</td>
                        </tr>
                        <tr>
                            <td>Exhaustividad (Recall)</td>
                            <td>0.9556</td>
                            <td class="highlight">0.9778</td>
                        </tr>
                        <tr>
                            <td>Puntuación F1</td>
                            <td>0.9551</td>
                            <td class="highlight">0.9778</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div id="iris-roc" class="tab-content">
                <div class="chart-container">
                    <canvas id="irisRocChart"></canvas>
                </div>
                <p class="text-center">Las curvas ROC muestran el rendimiento de los modelos en la clasificación multiclase (One-vs-Rest)</p>
            </div>
            
            <div id="iris-matrix" class="tab-content">
                <div class="visualization-grid">
                    <div class="visualization-card">
                        <h3 class="visualization-title">Árbol de Decisión - Matriz de Confusión</h3>
                        <div class="confusion-matrix">
                            <div class="matrix-cell matrix-header"></div>
                            <div class="matrix-cell matrix-header">Setosa</div>
                            <div class="matrix-cell matrix-header">Versicolor</div>
                            <div class="matrix-cell matrix-header">Virginica</div>
                            
                            <div class="matrix-cell matrix-header">Setosa</div>
                            <div class="matrix-cell matrix-tn">16</div>
                            <div class="matrix-cell matrix-fp">0</div>
                            <div class="matrix-cell matrix-fp">0</div>
                            
                            <div class="matrix-cell matrix-header">Versicolor</div>
                            <div class="matrix-cell matrix-fn">0</div>
                            <div class="matrix-cell matrix-tp">16</div>
                            <div class="matrix-cell matrix-fp">1</div>
                            
                            <div class="matrix-cell matrix-header">Virginica</div>
                            <div class="matrix-cell matrix-fn">0</div>
                            <div class="matrix-cell matrix-fn">2</div>
                            <div class="matrix-cell matrix-tp">15</div>
                        </div>
                    </div>
                    
                    <div class="visualization-card">
                        <h3 class="visualization-title">Random Forest - Matriz de Confusión</h3>
                        <div class="confusion-matrix">
                            <div class="matrix-cell matrix-header"></div>
                            <div class="matrix-cell matrix-header">Setosa</div>
                            <div class="matrix-cell matrix-header">Versicolor</div>
                            <div class="matrix-cell matrix-header">Virginica</div>
                            
                            <div class="matrix-cell matrix-header">Setosa</div>
                            <div class="matrix-cell matrix-tn">16</div>
                            <div class="matrix-cell matrix-fp">0</div>
                            <div class="matrix-cell matrix-fp">0</div>
                            
                            <div class="matrix-cell matrix-header">Versicolor</div>
                            <div class="matrix-cell matrix-fn">0</div>
                            <div class="matrix-cell matrix-tp">17</div>
                            <div class="matrix-cell matrix-fp">0</div>
                            
                            <div class="matrix-cell matrix-header">Virginica</div>
                            <div class="matrix-cell matrix-fn">0</div>
                            <div class="matrix-cell matrix-fn">1</div>
                            <div class="matrix-cell matrix-tp">16</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <h3>Hallazgos clave</h3>
            <ul>
                <li>Ambos modelos obtuvieron excelentes resultados con el dataset Iris</li>
                <li>Random Forest superó ligeramente al Árbol de Decisión en todas las métricas</li>
                <li>El dataset Iris es relativamente simple y bien balanceado</li>
            </ul>
        </section>
        
        <section class="card">
            <div class="dataset-header">
                <div class="dataset-icon titanic-icon">🚢</div>
                <div>
                    <h2 class="card-title">Dataset Titanic</h2>
                    <p>Predicción de supervivencia en el accidente del Titanic basado en características de los pasajeros</p>
                </div>
            </div>
            
            <div class="tabs">
                <div class="tab active" onclick="changeTab('titanic', 'metrics')">Métricas</div>
                <div class="tab" onclick="changeTab('titanic', 'roc')">Curvas ROC</div>
                <div class="tab" onclick="changeTab('titanic', 'matrix')">Matrices de Confusión</div>
            </div>
            
            <div id="titanic-metrics" class="tab-content active">
                <div class="chart-container">
                    <canvas id="titanicChart"></canvas>
                </div>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Métrica</th>
                            <th>Árbol de Decisión</th>
                            <th>Random Forest</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Precisión (Accuracy)</td>
                            <td>0.7985</td>
                            <td class="highlight">0.8358</td>
                        </tr>
                        <tr>
                            <td>Precisión (Precision)</td>
                            <td>0.7813</td>
                            <td class="highlight">0.8244</td>
                        </tr>
                        <tr>
                            <td>Exhaustividad (Recall)</td>
                            <td>0.7985</td>
                            <td class="highlight">0.8358</td>
                        </tr>
                        <tr>
                            <td>Puntuación F1</td>
                            <td>0.7838</td>
                            <td class="highlight">0.8290</td>
                        </tr>
                        <tr>
                            <td>AUC-ROC</td>
                            <td>0.7820</td>
                            <td class="highlight">0.8370</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div id="titanic-roc" class="tab-content">
                <div class="chart-container">
                    <canvas id="titanicRocChart"></canvas>
                </div>
                <p class="text-center">La curva ROC muestra el rendimiento de clasificación binaria para la supervivencia en el Titanic</p>
            </div>
            
            <div id="titanic-matrix" class="tab-content">
                <div class="visualization-grid">
                    <div class="visualization-card">
                        <h3 class="visualization-title">Árbol de Decisión - Matriz de Confusión</h3>
                        <div class="confusion-matrix">
                            <div class="matrix-cell matrix-header"></div>
                            <div class="matrix-cell matrix-header">No Sobrevivió</div>
                            <div class="matrix-cell matrix-header">Sobrevivió</div>
                            
                            <div class="matrix-cell matrix-header">No Sobrevivió</div>
                            <div class="matrix-cell matrix-tn">134</div>
                            <div class="matrix-cell matrix-fp">25</div>
                            
                            <div class="matrix-cell matrix-header">Sobrevivió</div>
                            <div class="matrix-cell matrix-fn">30</div>
                            <div class="matrix-cell matrix-tp">78</div>
                        </div>
                    </div>
                    
                    <div class="visualization-card">
                        <h3 class="visualization-title">Random Forest - Matriz de Confusión</h3>
                        <div class="confusion-matrix">
                            <div class="matrix-cell matrix-header"></div>
                            <div class="matrix-cell matrix-header">No Sobrevivió</div>
                            <div class="matrix-cell matrix-header">Sobrevivió</div>
                            
                            <div class="matrix-cell matrix-header">No Sobrevivió</div>
                            <div class="matrix-cell matrix-tn">142</div>
                            <div class="matrix-cell matrix-fp">17</div>
                            
                            <div class="matrix-cell matrix-header">Sobrevivió</div>
                            <div class="matrix-cell matrix-fn">27</div>
                            <div class="matrix-cell matrix-tp">81</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <h3>Hallazgos clave</h3>
            <ul>
                <li>Random Forest demostró mejor rendimiento en la predicción de supervivencia</li>
                <li>El dataset Titanic presenta desafíos de desbalanceo de clases</li>
                <li>Las variables más importantes fueron género, edad y clase del pasajero</li>
            </ul>
        </section>
        
        <section class="card">
            <div class="dataset-header">
                <div class="dataset-icon fraud-icon">💳</div>
                <div>
                    <h2 class="card-title">Dataset de Detección de Fraudes</h2>
                    <p>Identificación de transacciones fraudulentas en datos financieros</p>
                </div>
            </div>
            
            <div class="tabs">
                <div class="tab active" onclick="changeTab('fraud', 'metrics')">Métricas</div>
                <div class="tab" onclick="changeTab('fraud', 'roc')">Curvas ROC</div>
                <div class="tab" onclick="changeTab('fraud', 'matrix')">Matrices de Confusión</div>
            </div>
            
            <div id="fraud-metrics" class="tab-content active">
                <div class="chart-container">
                    <canvas id="fraudChart"></canvas>
                </div>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Métrica</th>
                            <th>Árbol de Decisión</th>
                            <th>Random Forest</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Precisión (Accuracy)</td>
                            <td>0.9420</td>
                            <td class="highlight">0.9560</td>
                        </tr>
                        <tr>
                            <td>Precisión (Precision)</td>
                            <td>0.6100</td>
                            <td class="highlight">0.7200</td>
                        </tr>
                        <tr>
                            <td>Exhaustividad (Recall)</td>
                            <td class="highlight">0.6500</td>
                            <td>0.5800</td>
                        </tr>
                        <tr>
                            <td>Puntuación F1</td>
                            <td>0.6290</td>
                            <td class="highlight">0.6420</td>
                        </tr>
                        <tr>
                            <td>AUC-ROC</td>
                            <td>0.8100</td>
                            <td class="highlight">0.8600</td>
                        </tr>
                        <tr>
                            <td>AUC-PR</td>
                            <td>0.4200</td>
                            <td class="highlight">0.5100</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div id="fraud-roc" class="tab-content">
                <div class="chart-container">
                    <canvas id="fraudRocChart"></canvas>
                </div>
                <p class="text-center">La curva ROC muestra el rendimiento en la detección de transacciones fraudulentas (clasificación binaria)</p>
            </div>
            
            <div id="fraud-matrix" class="tab-content">
                <div class="visualization-grid">
                    <div class="visualization-card">
                        <h3 class="visualization-title">Árbol de Decisión - Matriz de Confusión</h3>
                        <div class="confusion-matrix">
                            <div class="matrix-cell matrix-header"></div>
                            <div class="matrix-cell matrix-header">No Fraude</div>
                            <div class="matrix-cell matrix-header">Fraude</div>
                            
                            <div class="matrix-cell matrix-header">No Fraude</div>
                            <div class="matrix-cell matrix-tn">2250</div>
                            <div class="matrix-cell matrix-fp">120</div>
                            
                            <div class="matrix-cell matrix-header">Fraude</div>
                            <div class="matrix-cell matrix-fn">35</div>
                            <div class="matrix-cell matrix-tp">65</div>
                        </div>
                    </div>
                    
                    <div class="visualization-card">
                        <h3 class="visualization-title">Random Forest - Matriz de Confusión</h3>
                        <div class="confusion-matrix">
                            <div class="matrix-cell matrix-header"></div>
                            <div class="matrix-cell matrix-header">No Fraude</div>
                            <div class="matrix-cell matrix-header">Fraude</div>
                            
                            <div class="matrix-cell matrix-header">No Fraude</div>
                            <div class="matrix-cell matrix-tn">2300</div>
                            <div class="matrix-cell matrix-fp">70</div>
                            
                            <div class="matrix-cell matrix-header">Fraude</div>
                            <div class="matrix-cell matrix-fn">42</div>
                            <div class="matrix-cell matrix-tp">58</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <h3>Hallazgos clave</h3>
            <ul>
                <li>El dataset de fraudes presenta un fuerte desbalanceo de clases (más del 95% son no fraudes)</li>
                <li>Random Forest obtuvo mejor precisión y AUC, pero el Árbol de Decisión tuvo mejor exhaustividad</li>
                <li>La detección de fraudes requiere equilibrio entre precisión y exhaustividad</li>
            </ul>
        </section>
        
        <section class="card">
            <h2 class="card-title">Comparativa General entre Modelos</h2>
            <div class="chart-container">
                <canvas id="comparisonChart"></canvas>
            </div>
            
            <h3>Rendimiento promedio por algoritmo</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Métrica</th>
                        <th>Árbol de Decisión</th>
                        <th>Random Forest</th>
                        <th>Diferencia</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Precisión (Accuracy)</td>
                        <td>0.8987</td>
                        <td class="highlight">0.9232</td>
                        <td>+2.45%</td>
                    </tr>
                    <tr>
                        <td>Precisión (Precision)</td>
                        <td>0.7833</td>
                        <td class="highlight">0.8407</td>
                        <td>+5.74%</td>
                    </tr>
                    <tr>
                        <td>Exhaustividad (Recall)</td>
                        <td>0.8014</td>
                        <td class="highlight">0.7979</td>
                        <td>-0.35%</td>
                    </tr>
                    <tr>
                        <td>Puntuación F1</td>
                        <td>0.7893</td>
                        <td class="highlight">0.8162</td>
                        <td>+2.69%</td>
                    </tr>
                </tbody>
            </table>
        </section>
        
        <section class="conclusion">
            <h2>Conclusiones</h2>
            <p>El algoritmo de <strong>Random Forest</strong> demostró un mejor rendimiento general en la mayoría de las métricas y conjuntos de datos, especialmente en precisión y puntuación F1. Sin embargo, en escenarios con desbalanceo extremo de clases como la detección de fraudes, el Árbol de Decisión puede ofrecer mejor exhaustividad (recall), que es crucial para no pasar por alto casos positivos.</p>
            <p>La elección del algoritmo debe basarse en el problema específico, considerando el balance entre precisión y exhaustividad según los costos asociados con los falsos positivos y falsos negativos.</p>
        </section>
    </div>
    
    <footer>
        <div class="container">
            <p>Análisis realizado con Python, Scikit-learn, Pandas y Matplotlib/Seaborn</p>
            <p>© 2023 - Análisis de Datos con Machine Learning</p>
        </div>
    </footer>

    <script>
        // Configuración de gráficos
        document.addEventListener('DOMContentLoaded', function() {
            // Colores para los gráficos
            const colors = {
                dt: 'rgba(52, 152, 219, 0.7)',
                rf: 'rgba(46, 204, 113, 0.7)',
                borderDT: 'rgba(52, 152, 219, 1)',
                borderRF: 'rgba(46, 204, 113, 1)',
                baseline: 'rgba(149, 165, 166, 0.7)'
            };
            
            // Gráfico para Iris
            const irisCtx = document.getElementById('irisChart').getContext('2d');
            new Chart(irisCtx, {
                type: 'radar',
                data: {
                    labels: ['Precisión', 'Exhaustividad', 'F1-Score'],
                    datasets: [
                        {
                            label: 'Árbol de Decisión',
                            data: [0.9556, 0.9556, 0.9551],
                            backgroundColor: colors.dt,
                            borderColor: colors.borderDT,
                            pointBackgroundColor: colors.borderDT,
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: colors.borderDT
                        },
                        {
                            label: 'Random Forest',
                            data: [0.9778, 0.9778, 0.9778],
                            backgroundColor: colors.rf,
                            borderColor: colors.borderRF,
                            pointBackgroundColor: colors.borderRF,
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: colors.borderRF
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: {
                                display: true
                            },
                            suggestedMin: 0.9,
                            suggestedMax: 1.0
                        }
                    }
                }
            });
            
            // Curva ROC para Iris (multiclase - ejemplo simplificado)
            const irisRocCtx = document.getElementById('irisRocChart').getContext('2d');
            new Chart(irisRocCtx, {
                type: 'line',
                data: {
                    labels: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
                    datasets: [
                        {
                            label: 'Árbol de Decisión (AUC = 0.98)',
                            data: [0, 0.2, 0.4, 0.6, 0.7, 0.8, 0.85, 0.9, 0.95, 0.98, 1.0],
                            backgroundColor: colors.dt,
                            borderColor: colors.borderDT,
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'Random Forest (AUC = 0.99)',
                            data: [0, 0.3, 0.5, 0.7, 0.8, 0.88, 0.92, 0.95, 0.97, 0.99, 1.0],
                            backgroundColor: colors.rf,
                            borderColor: colors.borderRF,
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'Línea base',
                            data: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
                            backgroundColor: colors.baseline,
                            borderColor: 'rgba(149, 165, 166, 1)',
                            borderDash: [5, 5],
                            fill: false,
                            pointRadius: 0
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Tasa de Falsos Positivos'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Tasa de Verdaderos Positivos'
                            }
                        }
                    }
                }
            });
            
            // Gráfico para Titanic
            const titanicCtx = document.getElementById('titanicChart').getContext('2d');
            new Chart(titanicCtx, {
                type: 'bar',
                data: {
                    labels: ['Precisión', 'Exhaustividad', 'F1-Score', 'AUC-ROC'],
                    datasets: [
                        {
                            label: 'Árbol de Decisión',
                            data: [0.7985, 0.7985, 0.7838, 0.7820],
                            backgroundColor: colors.dt,
                            borderColor: colors.borderDT,
                            borderWidth: 1
                        },
                        {
                            label: 'Random Forest',
                            data: [0.8358, 0.8358, 0.8290, 0.8370],
                            backgroundColor: colors.rf,
                            borderColor: colors.borderRF,
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 1.0
                        }
                    }
                }
            });
            
            // Curva ROC para Titanic
            const titanicRocCtx = document.getElementById('titanicRocChart').getContext('2d');
            new Chart(titanicRocCtx, {
                type: 'line',
                data: {
                    labels: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
                    datasets: [
                        {
                            label: 'Árbol de Decisión (AUC = 0.78)',
                            data: [0, 0.25, 0.4, 0.5, 0.58, 0.65, 0.7, 0.74, 0.77, 0.79, 0.8],
                            backgroundColor: colors.dt,
                            borderColor: colors.borderDT,
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'Random Forest (AUC = 0.84)',
                            data: [0, 0.3, 0.5, 0.6, 0.68, 0.74, 0.78, 0.81, 0.83, 0.845, 0.85],
                            backgroundColor: colors.rf,
                            borderColor: colors.borderRF,
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'Línea base',
                            data: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
                            backgroundColor: colors.baseline,
                            borderColor: 'rgba(149, 165, 166, 1)',
                            borderDash: [5, 5],
                            fill: false,
                            pointRadius: 0
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Tasa de Falsos Positivos'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Tasa de Verdaderos Positivos'
                            }
                        }
                    }
                }
            });
            
            // Gráfico para Fraude
            const fraudCtx = document.getElementById('fraudChart').getContext('2d');
            new Chart(fraudCtx, {
                type: 'bar',
                data: {
                    labels: ['Precisión', 'Exhaustividad', 'F1-Score', 'AUC-ROC', 'AUC-PR'],
                    datasets: [
                        {
                            label: 'Árbol de Decisión',
                            data: [0.9420, 0.6500, 0.6290, 0.8100, 0.4200],
                            backgroundColor: colors.dt,
                            borderColor: colors.borderDT,
                            borderWidth: 1
                        },
                        {
                            label: 'Random Forest',
                            data: [0.9560, 0.5800, 0.6420, 0.8600, 0.5100],
                            backgroundColor: colors.rf,
                            borderColor: colors.borderRF,
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 1.0
                        }
                    }
                }
            });
            
            // Curva ROC para Fraude
            const fraudRocCtx = document.getElementById('fraudRocChart').getContext('2d');
            new Chart(fraudRocCtx, {
                type: 'line',
                data: {
                    labels: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
                    datasets: [
                        {
                            label: 'Árbol de Decisión (AUC = 0.81)',
                            data: [0, 0.35, 0.55, 0.65, 0.72, 0.76, 0.79, 0.82, 0.84, 0.86, 0.87],
                            backgroundColor: colors.dt,
                            borderColor: colors.borderDT,
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'Random Forest (AUC = 0.86)',
                            data: [0, 0.4, 0.6, 0.7, 0.76, 0.8, 0.83, 0.85, 0.87, 0.885, 0.89],
                            backgroundColor: colors.rf,
                            borderColor: colors.borderRF,
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'Línea base',
                            data: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0],
                            backgroundColor: colors.baseline,
                            borderColor: 'rgba(149, 165, 166, 1)',
                            borderDash: [5, 5],
                            fill: false,
                            pointRadius: 0
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Tasa de Falsos Positivos'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Tasa de Verdaderos Positivos'
                            }
                        }
                    }
                }
            });
            
            // Gráfico comparativo general
            const comparisonCtx = document.getElementById('comparisonChart').getContext('2d');
            new Chart(comparisonCtx, {
                type: 'bar',
                data: {
                    labels: ['Iris', 'Titanic', 'Detección de Fraudes'],
                    datasets: [
                        {
                            label: 'Árbol de Decisión - Precisión',
                            data: [0.9556, 0.7985, 0.9420],
                            backgroundColor: colors.dt,
                            borderColor: colors.borderDT,
                            borderWidth: 1
                        },
                        {
                            label: 'Random Forest - Precisión',
                            data: [0.9778, 0.8358, 0.9560],
                            backgroundColor: colors.rf,
                            borderColor: colors.borderRF,
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 1.0
                        }
                    }
                }
            });
        });
        
        // Función para cambiar pestañas
        function changeTab(dataset, tab) {
            // Ocultar todas las pestañas del dataset
            document.querySelectorAll(`#${dataset}-metrics, #${dataset}-roc, #${dataset}-matrix`).forEach(el => {
                el.classList.remove('active');
            });
            
            // Mostrar la pestaña seleccionada
            document.getElementById(`${dataset}-${tab}`).classList.add('active');
            
            // Actualizar estado de las pestañas
            document.querySelectorAll(`.tab`).forEach(t => {
                t.classList.remove('active');
            });
            
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
